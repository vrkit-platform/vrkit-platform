syntax = "proto3";
import "google/protobuf/timestamp.proto";
import "FileInfo.proto";
import "TrackLayoutMetadata.proto";

package IRacingTools.Models.Session;

message SessionTiming {
  bool is_live = 1;
  bool is_valid = 2;
//  google.protobuf.Timestamp start_time  = 10;
//  google.protobuf.Timestamp end_time = 11;
//  int32 current_time_millis = 20;
//  int32 total_time_millis = 21;

  int32 sample_index = 50;
  int32 sample_count = 51;

  int32 ticks = 60;
  int32 tick_count = 61;
}

enum SessionType {
  SESSION_TYPE_LIVE = 0;
  SESSION_TYPE_DISK = 1;
}

enum SessionSubType {
  SESSION_SUB_TYPE_UNKNOWN = 0;
  SESSION_SUB_TYPE_PRACTICE = 1;
  SESSION_SUB_TYPE_QUALIFY = 2;
  SESSION_SUB_TYPE_RACE = 3;
}

enum SessionCarStatus {
  SESSION_CAR_STATUS_INVALID = 0;
  SESSION_CAR_STATUS_GET_IN_CAR = 1;
  SESSION_CAR_STATUS_WARMUP = 3;
  SESSION_CAR_STATUS_PARADE_LAPS = 4;
  SESSION_CAR_STATUS_RACE = 5;
  SESSION_CAR_STATUS_CHECKERED = 6;
  SESSION_CAR_STATUS_COOLDOWN = 7;
}


enum SessionStatus {
  SESSION_STATUS_CREATED = 0;
  SESSION_STATUS_READY = 1;
  SESSION_STATUS_PAUSED = 2;
  SESSION_STATUS_RUNNING = 5;
  SESSION_STATUS_ERROR = 10;
}

message SessionData {

  string id = 1;
  SessionType type = 2;

  SessionStatus status = 5;

  int32 sub_count = 6;
  int32 sub_id = 7;
  int32 sub_num = 8;
  SessionSubType sub_type = 9;

  SessionTiming timing = 15;

  TrackLayoutMetadata track_layout_metadata = 20;
  FileInfo file_info = 21;

  SessionCarStatus car_status = 30;

  string session_info_json = 90;
  string session_info_yaml = 91;
}
